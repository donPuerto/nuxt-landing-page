/* n8n Chat Theme Overrides - Aligned with Nuxt Landing Page shadcn Design System
   Maps project colors to n8n chat CSS variables for light/dark modes
*/

:root {
  /* Primary: Blue 600 (project's main brand) */
  --chat--color--primary: #2563eb; /* blue-600 */
  --chat--color--primary-shade-50: #1d4ed8;
  --chat--color--primary--shade-100: #1e40af;

  /* Secondary: Teal/Green (accent) */
  --chat--color--secondary: #14b8a6; /* teal-500 */
  --chat--color-secondary-shade-50: #0d9488;

  /* Neutral colors aligned with Tailwind */
  --chat--color-white: #ffffff;
  --chat--color-light: #f8fafc; /* slate-50 */
  --chat--color-light-shade-50: #f1f5f9; /* slate-100 */
  --chat--color-light-shade-100: #e2e8f0; /* slate-200 */
  --chat--color-medium: #cbd5e1; /* slate-300 */
  --chat--color-dark: #1e293b; /* slate-800 - light mode text */
  --chat--color-disabled: #94a3b8; /* slate-400 */
  --chat--color-typing: #475569; /* slate-700 */

  /* Spacing and layout */
  --chat--spacing: 1rem;
  --chat--border-radius: 0.375rem; /* rounded-md, matches shadcn */
  --chat--transition-duration: 0.15s;

  /* Window mode dimensions */
  --chat--window--width: 420px;
  --chat--window--height: 600px;

  /* Header styling */
  --chat--header-height: auto;
  --chat--header--padding: var(--chat--spacing);
  --chat--header--background: #2563eb; /* blue-600 */
  --chat--header--color: var(--chat--color-white);
  --chat--header--border-top: none;
  --chat--header--border-bottom: 1px solid #e2e8f0;

  /* Typography */
  --chat--heading--font-size: 1.5rem; /* 24px */
  --chat--subtitle--font-size: 0.875rem; /* 14px */
  --chat--subtitle--line-height: 1.5;

  /* Input area */
  --chat--textarea--height: 50px;
  --chat--textarea--font-size: 0.875rem;

  /* Messages */
  --chat--message--font-size: 0.95rem;
  --chat--message--padding: 0.75rem 1rem;
  --chat--message--border-radius: var(--chat--border-radius);
  --chat--message-line-height: 1.5;

  /* Bot message (inbound) */
  --chat--message--bot--background: #f1f5f9; /* slate-100 */
  --chat--message--bot--color: #1e293b; /* slate-800 */
  --chat--message--bot--border: none;

  /* User message (outbound) */
  --chat--message--user--background: #2563eb; /* blue-600 */
  --chat--message--user--color: var(--chat--color-white);
  --chat--message--user--border: none;

  /* Code blocks in messages */
  --chat--message--pre--background: rgba(30, 41, 59, 0.05);
  --chat--message--pre--color: #1e293b;

  /* Toggle button (for window mode) */
  --chat--toggle--background: #2563eb; /* blue-600 */
  --chat--toggle--hover--background: #1d4ed8;
  --chat--toggle--active--background: #1e40af;
  --chat--toggle--color: var(--chat--color-white);
  --chat--toggle--size: 64px;
}

/* Dark Mode Theme Override */
:root.dark {
  /* Dark mode background and text colors */
  --chat--color-light: #111827; /* gray-900 */
  --chat--color-light-shade-50: #1f2937; /* gray-800 */
  --chat--color-light-shade-100: #374151; /* gray-700 */
  --chat--color-medium: #4b5563; /* slate-600 */
  --chat--color-dark: #f3f4f6; /* gray-100 - light text in dark mode */
  --chat--color-disabled: #9ca3af; /* gray-400 */
  --chat--color-typing: #d1d5db; /* gray-300 */

  /* Header - maintain contrast in dark mode */
  --chat--header--background: #1e40af; /* blue-800 for better contrast */
  --chat--header--color: var(--chat--color-white);
  --chat--header--border-bottom: 1px solid #1e3a8a; /* blue-900 */

  /* Bot message in dark mode */
  --chat--message--bot--background: #1f2937; /* gray-800 */
  --chat--message--bot--color: #f3f4f6; /* gray-100 */

  /* User message stays consistent */
  --chat--message--user--background: #2563eb; /* blue-600 */
  --chat--message--user--color: var(--chat--color-white);

  /* Code blocks in dark mode */
  --chat--message--pre--background: rgba(255, 255, 255, 0.05);
  --chat--message--pre--color: #f3f4f6;

  /* Toggle button in dark mode */
  --chat--toggle--background: #2563eb;
  --chat--toggle--hover--background: #1d4ed8;
  --chat--toggle--active--background: #1e40af;
}

/* Fullscreen Mode Support */
html,
body,
#n8n-chat {
  height: 100%;
}

#n8n-chat[data-fullscreen='true'] {
  width: 100vw;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9999;
}

/* Additional refinements */
.n8n-chat-window {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  border-radius: var(--chat--border-radius);
}

.n8n-chat-textarea {
  font-family: inherit;
}

/* Ensure proper stacking */
#n8n-chat iframe {
  z-index: 10000;
}

/* Hide default n8n launcher toggle since layout supplies a custom button */
.n8n-chat .chat-window-toggle {
  display: none !important;
}
